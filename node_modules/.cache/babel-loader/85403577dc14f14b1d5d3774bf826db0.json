{"ast":null,"code":"var _jsxFileName = \"/Users/jerome/Documents/Github-code/Dojo_React/src/App.js\";\nimport React from 'react';\nimport './App.css';\nconst initialProductList = [{\n  id: 1,\n  name: 'produit 1',\n  price: 50,\n  quantity: 1,\n  total: 50\n}, {\n  id: 2,\n  name: 'produit 2',\n  price: 75,\n  quantity: 1,\n  total: 75\n}, {\n  id: 3,\n  name: 'produit 3',\n  price: 20,\n  quantity: 1,\n  total: 20\n}];\n\nfunction App() {\n  const [products, setProducts] = React.useState(initialProductList);\n\n  function handleQuantity(event, product) {\n    var newQuantity = parseInt(event.target.value);\n    var newPrice = newQuantity * product.price || 0;\n\n    if (newQuantity === 0) {\n      return askForRemove(product);\n    }\n\n    var newProduct = products.map(oldProduct => {\n      if (oldProduct.id === product.id) {\n        return { ...product,\n          quantity: newQuantity,\n          total: newPrice\n        };\n      } else {\n        return { ...oldProduct\n        };\n      }\n    });\n    setProducts(newProduct);\n  }\n\n  function Total() {\n    let total = products.reduce(function (accumulator, currentValue) {\n      return accumulator + currentValue.total;\n    }, 0);\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }\n    }, \"Montant de la commande : \", total, \" \\u20AC\");\n  }\n\n  function askForRemove(product) {\n    if (window.confirm(\"Etes-vous sûr de bien vouloir retirer ce produit de la liste ?\")) {\n      setProducts(products.filter(p => p !== product));\n    }\n  }\n\n  function handleSubmit() {\n    const name = event.target.elements.usernameInput.value;\n    const price = event.target.elements.usernameInput.value;\n    setProducts(...products, {\n      id: 1,\n      name: 'produit 1',\n      price: 50,\n      quantity: 1,\n      total: 50\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Ma commande\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Produit\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Prix unitaire\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Quantit\\xE9\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Prix total\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(\"tr\", {\n    key: product.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, product.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, product.price), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: product.quantity,\n    type: \"number\",\n    min: \"0\",\n    onChange: event => handleQuantity(event, product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, product.total))))), /*#__PURE__*/React.createElement(Total, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Ajouter un produit\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"nameInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Nom :\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"nameInput\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"priceInput\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, \"Prix :\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"priceInput\",\n    type: \"number\",\n    min: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Ajouter\")));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jerome/Documents/Github-code/Dojo_React/src/App.js"],"names":["React","initialProductList","id","name","price","quantity","total","App","products","setProducts","useState","handleQuantity","event","product","newQuantity","parseInt","target","value","newPrice","askForRemove","newProduct","map","oldProduct","Total","reduce","accumulator","currentValue","window","confirm","filter","p","handleSubmit","elements","usernameInput"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\n\nconst initialProductList = [\n  { id: 1, name: 'produit 1', price: 50, quantity: 1, total: 50 },\n  { id: 2, name: 'produit 2', price: 75, quantity: 1, total: 75 },\n  { id: 3, name: 'produit 3', price: 20, quantity: 1, total: 20 }\n];\n\nfunction App () {\n  const [products, setProducts] = React.useState(initialProductList)\n\n  function handleQuantity(event, product) {\n    var newQuantity = parseInt(event.target.value)\n    var newPrice    = newQuantity * product.price || 0\n\n    if (newQuantity === 0) {\n      return askForRemove(product)\n    }\n\n    var newProduct = products.map((oldProduct) => {\n      if (oldProduct.id === product.id) {\n        return {...product, quantity: newQuantity, total: newPrice}\n      } else {\n        return {...oldProduct}\n      }\n    })\n\n    setProducts(newProduct)\n  }\n\n  function Total() {\n    let total = products.reduce(function (accumulator, currentValue) {\n      return accumulator + currentValue.total\n    }, 0)\n\n    return <p>Montant de la commande : {total} €</p>\n  }\n\n  function askForRemove(product) {\n    if(window.confirm(\"Etes-vous sûr de bien vouloir retirer ce produit de la liste ?\")) {\n      setProducts(products.filter(p => p !== product))\n    }\n  }\n\n  function handleSubmit() {\n    const name = event.target.elements.usernameInput.value\n    const price = event.target.elements.usernameInput.value\n    setProducts(...products, {id: 1, name: 'produit 1', price: 50, quantity: 1, total: 50})\n  }\n\n  return (\n    <div className='App'>\n      <h1>Ma commande</h1>\n      <table>\n        <thead>\n          <tr>\n            <th>Produit</th>\n            <th>Prix unitaire</th>\n            <th>Quantité</th>\n            <th>Prix total</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {products.map(product => (\n            <tr key={product.id}>\n              <td>{product.name}</td>\n              <td>{product.price}</td>\n              <td>\n                <input\n                  value={product.quantity}\n                  type=\"number\"\n                  min=\"0\"\n                  onChange={(event) => handleQuantity(event, product)} />\n              </td>\n              <td>{product.total}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <Total />\n\n      <form onSubmit={handleSubmit}>\n        <h2>Ajouter un produit</h2>\n\n        <div className=\"field\">\n          <label htmlFor=\"nameInput\">Nom :</label>\n          <input id=\"nameInput\" type=\"text\" />\n        </div>\n\n        <div className=\"field\">\n          <label htmlFor=\"priceInput\">Prix :</label>\n          <input id=\"priceInput\" type=\"number\" min=\"0\" />\n        </div>\n\n        <button type=\"submit\">Ajouter</button>\n      </form>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}